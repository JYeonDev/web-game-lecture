<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>baseball</title>
  </head>
  <body>
    <form id="form">
        <input type="text" id="input">
        <button>확인</button>
      </form>
      <div id="logs"></div>
  </body>
  <script>
      const $input = document.querySelector('#input');
      const $form = document.querySelector('#form');
      const $logs = document.querySelector('#logs');

      const numbers = [];
      for (let n = 0; n <= 9; n++){
          numbers.push(n + 1);
      }
      const answer = [];
      for(n = 0; n < 4; n += 1) {
          const index = Math.floor(Math.random() * (numbers.length - n));
          answer.push(numbers[index]);
          numbers.splice(index, 1);
      }
      console.log(answer);

      const tries = [];
      function checkInput(input) {
          if(input.length !== 4){ // 4자리수가 맞나
            return alert('4자리 숫자를 입력해 주세요.')
          }
          if(new Set(input).size !== 4){ // 중복된 숫자가 있는가
            // new Set().size 는 중복된 숫자를 제거한다.(배열과 비슷하다 한다.) new Set()은 length대신 size를 사용한다.
            return alert('중복되지 않게 입력해 주세요.')
          }
          if(tries.includes(input)){ // 이미 시도한 값은 아닌가
            // 배열안에 이미 입력했던 값이었는지 확인
            return alert('이미 시도한 값입니다.')
          }
          return true;
      } // 검사하는 코드

      $form.addEventListener('submit', (event) => {
          event.preventDefault(); // 기본 동작 막기
          const value = $input.value;
          $input.value = '';
          if(checkInput(value)){
            // 입력값 문제없음
            tries.push(value);
          }else{

          };
      })
  </script>
</html>
